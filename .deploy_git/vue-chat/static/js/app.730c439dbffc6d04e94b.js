webpackJsonp([1],{10:function(t,s,n){n(165);var e=n(2)(n(178),n(159),"data-v-05b45833",null);t.exports=e.exports},11:function(t,s,n){n(168);var e=n(2)(n(179),n(162),"data-v-31773447",null);t.exports=e.exports},131:function(t,s,n){n(167);var e=n(2)(n(175),n(161),null,null);t.exports=e.exports},133:function(t,s,n){"use strict";var e=n(4),o=n(171),a=n(11),i=n.n(a),r=n(10),c=n.n(r),l=n(158),u=n.n(l);e.a.use(o.a);var m=new o.a({routes:[{path:"/",name:"Login",component:i.a},{path:"/chatting",name:"Chatting",component:c.a},{path:"/AI",name:"AI",component:u.a}]});s.a=m},153:function(t,s,n){t.exports=n.p+"static/img/help.f1f3932.png"},157:function(t,s,n){n(169);var e=n(2)(n(176),n(163),"data-v-412f0d8f",null);t.exports=e.exports},158:function(t,s,n){n(166);var e=n(2)(n(177),n(160),"data-v-08a4dcb5",null);t.exports=e.exports},159:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("transition",{attrs:{name:"slide-left"}},[n("div",{staticClass:"chatting"},[n("div",{staticClass:"chatting-header"},[n("div",{staticClass:"chatting-back"},[n("i",{class:[t.isRedAI?"icon-back":"icon-back2"],on:{click:function(s){t.$router.push("/AI")}}})]),t._v(" "),n("div",{staticClass:"chatting-title"},[n("h2",[n("i",{staticClass:"icon-group"}),t._v("群聊")])]),t._v(" "),n("div",{staticClass:"chatting-menu"},[n("i",{staticClass:"icon-menu",on:{click:function(s){t.$router.push("/")}}})])]),t._v(" "),n("div",{ref:"chattingContent",staticClass:"chatting-content",on:{click:function(s){s.stopPropagation(),s.preventDefault(),t.isShowEmoji=!1}}},t._l(t.msgs,function(s){return n("div",[s.self?n("div",{staticClass:"chatting-item self clearfix"},[n("div",{staticClass:"msg-date"},[t._v("\n            "+t._s(s.date)+"\n          ")]),t._v(" "),n("div",{staticClass:"msg-from"},[n("span",{staticClass:"loc"},[t._v("["+t._s(s.loc)+"]")]),t._v(" "),n("span",{staticClass:"msg-author"},[t._v(t._s(s.from))]),t._v(" "),n("img",{attrs:{src:s.avatarUrl,alt:""}})]),t._v(" "),n("div",{staticClass:"msg-content"},[t._v(t._s(s.content))])]):n("div",{staticClass:"chatting-item other clearfix"},[n("div",{staticClass:"msg-date"},[t._v("\n            "+t._s(s.date)+"\n          ")]),t._v(" "),n("div",{staticClass:"msg-from"},[n("img",{attrs:{src:s.avatarUrl,alt:""}}),t._v(" "),n("span",{staticClass:"loc"},[t._v("["+t._s(s.loc)+"]")]),t._v(" "),n("span",{staticClass:"msg-author"},[t._v(t._s(s.from))])]),t._v(" "),n("div",{staticClass:"msg-content"},[t._v(t._s(s.content))])])])})),t._v(" "),n("div",{staticClass:"chatting-input"},[n("transition",{attrs:{name:"slide-bottom"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowEmoji,expression:"isShowEmoji"}],staticClass:"emoji-display"},[n("ul",t._l(t.emojis,function(s){return n("li",{on:{click:function(n){t.insertText(s)}}},[t._v(t._s(s))])}))])]),t._v(" "),n("div",{staticClass:"emoji"},[n("i",{staticClass:"icon-emoji",on:{click:function(s){t.showEmoji(t.isShowEmoji=!t.isShowEmoji)}}})]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputContent,expression:"inputContent",modifiers:{trim:!0}}],ref:"textarea",attrs:{placeholder:"左上角还有智能机器人哦"},domProps:{value:t.inputContent},on:{keyup:function(s){if(!("button"in s)&&t._k(s.keyCode,"enter",13))return null;t.send(s)},input:[function(s){s.target.composing||(t.inputContent=s.target.value.trim())},t.newLine],blur:function(s){t.$forceUpdate()}}}),t._v(" "),n("button",{on:{click:t.send}},[t._v("发送")])],1)])])},staticRenderFns:[]}},160:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("transition",{attrs:{name:"slide-right"}},[n("div",{staticClass:"chatting"},[n("div",{staticClass:"chatting-header"},[n("div",{staticClass:"chatting-back"},[n("i",{staticClass:"icon-back",on:{click:function(s){t.$router.push("/chatting")}}})]),t._v(" "),n("div",{staticClass:"chatting-title"},[n("h2",[t._v("AI 智能机器人")])]),t._v(" "),n("div",{staticClass:"chatting-menu"},[n("i",{staticClass:"icon-menu",on:{click:function(s){t.$router.push("/")}}})])]),t._v(" "),n("div",{ref:"chattingContent",staticClass:"chatting-content",attrs:{id:"chattingContent"}},t._l(t.msgs,function(s){return n("div",[s.self?n("div",{staticClass:"chatting-item self clearfix"},[n("div",{staticClass:"msg-date"},[t._v("\n            "+t._s(s.date)+"\n          ")]),t._v(" "),n("div",{staticClass:"msg-from"},[n("span",{staticClass:"loc"},[t._v("["+t._s(s.loc)+"]")]),t._v(" "),n("span",{staticClass:"msg-author"},[t._v(t._s(s.from))]),t._v(" "),n("img",{attrs:{src:s.avatarUrl,alt:""}})]),t._v(" "),n("div",{staticClass:"msg-content"},[t._v(t._s(s.content))])]):n("div",{staticClass:"chatting-item other clearfix"},[n("div",{staticClass:"msg-date"},[t._v("\n            "+t._s(s.date)+"\n          ")]),t._v(" "),n("div",{staticClass:"msg-from"},[n("img",{attrs:{src:s.avatarUrl,alt:""}}),t._v(" "),n("span",{staticClass:"msg-author"},[t._v(t._s(s.from))])]),t._v(" "),n("div",{staticClass:"msg-content"},[t._v(t._s(s.content))])])])})),t._v(" "),n("div",{staticClass:"chatting-input"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.inputContent,expression:"inputContent",modifiers:{trim:!0}}],attrs:{placeholder:"与智能机器人聊些啥"},domProps:{value:t.inputContent},on:{keyup:function(s){if(!("button"in s)&&t._k(s.keyCode,"enter",13))return null;t.send(s)},input:function(s){s.target.composing||(t.inputContent=s.target.value.trim())},blur:function(s){t.$forceUpdate()}}}),t._v(" "),n("button",{on:{click:t.send}},[t._v("发送")])])])])},staticRenderFns:[]}},161:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},162:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("transition",{attrs:{name:"slide-top"}},[n("div",{staticClass:"login"},[n("i",{staticClass:"icon-about",attrs:{title:"关于"},on:{click:t.showAbout}}),t._v(" "),n("a",{attrs:{href:"https://microzz.com/",target:"_blank",title:"microzz.com"}},[n("i",{staticClass:"icon-website"})]),t._v(" "),n("i",{staticClass:"icon-chat"}),t._v(" "),n("h2",[t._v("请输入您的名字")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],attrs:{type:"text",autofocus:""},domProps:{value:t.name},on:{keyup:function(s){if(!("button"in s)&&t._k(s.keyCode,"enter",13))return null;t.login(s)},input:function(s){s.target.composing||(t.name=s.target.value.trim())},blur:function(s){t.$forceUpdate()}}}),t._v(" "),n("transition",{attrs:{name:"showAbout"}},[t.isShowAbout?n("About"):t._e()],1)],1)])},staticRenderFns:[]}},163:function(t,s,n){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"showAbout"}},[e("div",{staticClass:"about"},[e("i",{staticClass:"close",on:{click:t.showAbout}}),t._v(" "),e("div",{staticClass:"about-content"},[e("h1",[t._v("关于")]),t._v(" "),e("h2",[t._v("Vue.js+Socket.io打造一个智能聊天室")]),t._v(" "),e("p",{staticClass:"skill"},[e("b",[t._v("技术栈")]),t._v("：")]),t._v(" "),e("div",[t._v("Vue2(页面构建+数据驱动)"),e("br"),t._v("Socket.io(实时通信)"),e("br"),t._v("Vuex(不同组件状态共享)"),e("br"),t._v("vue-router(路由)"),e("br"),t._v("axios(发起http请求)"),e("br"),t._v("SASS(SCSS)"),e("br"),t._v("Express(上线版本是Koa2)"),e("br"),t._v("Webpack(自动化构建)"),e("br"),t._v("Moment.js(时间处理)"),e("br"),t._v("ES6(贯穿全部)"),e("br"),t._v("localStorage(HTML5)"),e("br"),t._v("CSS3(动画及样式)")]),t._v(" "),e("p",{staticClass:"url"},[e("b",[t._v("GitHub")]),t._v("："),e("a",{class:{hover:t.isHover},attrs:{href:"https://github.com/microzz/",target:"_blank"},on:{touchstart:function(s){t.isHover=!0},touchEnd:function(s){t.isHover=!1}}},[t._v("GitHub")])]),t._v(" "),e("p",{staticClass:"url"},[e("b",[t._v("个人网站")]),t._v("："),e("a",{class:{hover:t.isHover},attrs:{href:"https://microzz.com/",target:"_blank"},on:{touchstart:function(s){t.isHover=!0},touchEnd:function(s){t.isHover=!1}}},[t._v("microzz")])]),t._v(" "),e("p",[e("br"),t._v("   待业码农，求工作～～如果你觉得该项目不错，还可以请我吃辣条😄↓↓↓")]),t._v(" "),e("div",{staticClass:"help"},[e("img",{attrs:{src:n(153),alt:"microzz.com"}})]),t._v(" "),e("p",{staticClass:"copyright"},[e("b",[t._v("【声明】")]),t._v("：本项目仅供学习交流使用，请不要用作任何商业用途。有任何疑问请联系作者↓ "),e("br"),t._v("📩："),e("a",{attrs:{href:"mailto:zhaohui@microzz.com"}},[t._v("zhaohui@microzz.com")])])]),t._v(" "),e("div",{staticClass:"mask",on:{click:t.showAbout}})])])},staticRenderFns:[]}},165:function(t,s){},166:function(t,s){},167:function(t,s){},168:function(t,s){},169:function(t,s){},170:function(t,s,n){function e(t){return n(o(t))}function o(t){var s=a[t];if(!(s+1))throw new Error("Cannot find module '"+t+"'.");return s}var a={"./af":12,"./af.js":12,"./ar":19,"./ar-dz":13,"./ar-dz.js":13,"./ar-kw":14,"./ar-kw.js":14,"./ar-ly":15,"./ar-ly.js":15,"./ar-ma":16,"./ar-ma.js":16,"./ar-sa":17,"./ar-sa.js":17,"./ar-tn":18,"./ar-tn.js":18,"./ar.js":19,"./az":20,"./az.js":20,"./be":21,"./be.js":21,"./bg":22,"./bg.js":22,"./bn":23,"./bn.js":23,"./bo":24,"./bo.js":24,"./br":25,"./br.js":25,"./bs":26,"./bs.js":26,"./ca":27,"./ca.js":27,"./cs":28,"./cs.js":28,"./cv":29,"./cv.js":29,"./cy":30,"./cy.js":30,"./da":31,"./da.js":31,"./de":34,"./de-at":32,"./de-at.js":32,"./de-ch":33,"./de-ch.js":33,"./de.js":34,"./dv":35,"./dv.js":35,"./el":36,"./el.js":36,"./en-au":37,"./en-au.js":37,"./en-ca":38,"./en-ca.js":38,"./en-gb":39,"./en-gb.js":39,"./en-ie":40,"./en-ie.js":40,"./en-nz":41,"./en-nz.js":41,"./eo":42,"./eo.js":42,"./es":44,"./es-do":43,"./es-do.js":43,"./es.js":44,"./et":45,"./et.js":45,"./eu":46,"./eu.js":46,"./fa":47,"./fa.js":47,"./fi":48,"./fi.js":48,"./fo":49,"./fo.js":49,"./fr":52,"./fr-ca":50,"./fr-ca.js":50,"./fr-ch":51,"./fr-ch.js":51,"./fr.js":52,"./fy":53,"./fy.js":53,"./gd":54,"./gd.js":54,"./gl":55,"./gl.js":55,"./gom-latn":56,"./gom-latn.js":56,"./he":57,"./he.js":57,"./hi":58,"./hi.js":58,"./hr":59,"./hr.js":59,"./hu":60,"./hu.js":60,"./hy-am":61,"./hy-am.js":61,"./id":62,"./id.js":62,"./is":63,"./is.js":63,"./it":64,"./it.js":64,"./ja":65,"./ja.js":65,"./jv":66,"./jv.js":66,"./ka":67,"./ka.js":67,"./kk":68,"./kk.js":68,"./km":69,"./km.js":69,"./kn":70,"./kn.js":70,"./ko":71,"./ko.js":71,"./ky":72,"./ky.js":72,"./lb":73,"./lb.js":73,"./lo":74,"./lo.js":74,"./lt":75,"./lt.js":75,"./lv":76,"./lv.js":76,"./me":77,"./me.js":77,"./mi":78,"./mi.js":78,"./mk":79,"./mk.js":79,"./ml":80,"./ml.js":80,"./mr":81,"./mr.js":81,"./ms":83,"./ms-my":82,"./ms-my.js":82,"./ms.js":83,"./my":84,"./my.js":84,"./nb":85,"./nb.js":85,"./ne":86,"./ne.js":86,"./nl":88,"./nl-be":87,"./nl-be.js":87,"./nl.js":88,"./nn":89,"./nn.js":89,"./pa-in":90,"./pa-in.js":90,"./pl":91,"./pl.js":91,"./pt":93,"./pt-br":92,"./pt-br.js":92,"./pt.js":93,"./ro":94,"./ro.js":94,"./ru":95,"./ru.js":95,"./sd":96,"./sd.js":96,"./se":97,"./se.js":97,"./si":98,"./si.js":98,"./sk":99,"./sk.js":99,"./sl":100,"./sl.js":100,"./sq":101,"./sq.js":101,"./sr":103,"./sr-cyrl":102,"./sr-cyrl.js":102,"./sr.js":103,"./ss":104,"./ss.js":104,"./sv":105,"./sv.js":105,"./sw":106,"./sw.js":106,"./ta":107,"./ta.js":107,"./te":108,"./te.js":108,"./tet":109,"./tet.js":109,"./th":110,"./th.js":110,"./tl-ph":111,"./tl-ph.js":111,"./tlh":112,"./tlh.js":112,"./tr":113,"./tr.js":113,"./tzl":114,"./tzl.js":114,"./tzm":116,"./tzm-latn":115,"./tzm-latn.js":115,"./tzm.js":116,"./uk":117,"./uk.js":117,"./ur":118,"./ur.js":118,"./uz":120,"./uz-latn":119,"./uz-latn.js":119,"./uz.js":120,"./vi":121,"./vi.js":121,"./x-pseudo":122,"./x-pseudo.js":122,"./yo":123,"./yo.js":123,"./zh-cn":124,"./zh-cn.js":124,"./zh-hk":125,"./zh-hk.js":125,"./zh-tw":126,"./zh-tw.js":126};e.keys=function(){return Object.keys(a)},e.resolve=o,t.exports=e,e.id=170},175:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=n(10),o=n.n(e),a=n(11),i=n.n(a);s.default={name:"app",components:{Chatting:o.a,Login:i.a},beforeCreate:function(){console.log("%c Powered by Zhaohui - microzz.com","background-image:-webkit-gradient( linear, left top,right top, color-stop(0, #00a419),color-stop(0.15, #f44336), color-stop(0.29, #ff4300),color-stop(0.3, #AA00FF),color-stop(0.4, #8BC34A), color-stop(0.45, #607D8B),color-stop(0.6, #4096EE), color-stop(0.75, #D50000),color-stop(0.9, #4096EE), color-stop(1, #FF1A00));color:transparent;-webkit-background-clip:text;font-size:13px;")},created:function(){localStorage.addr="未知",this.axios.get("https://microzz.com:3000/api/ip").then(function(t){t.data.content.address&&(localStorage.addr=t.data.content.address)})}}},176:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={name:"about",data:function(){return{isHover:!1}},computed:{isShowAbout:function(){return this.$store.state.isShowAbout}},methods:{showAbout:function(){this.$store.commit("showAbout",!1)}}}},177:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=n(129),o=n.n(e);s.default={name:"chatting",data:function(){return{msgs:localStorage.msgs_ai&&JSON.parse(localStorage.msgs_ai)||[],inputContent:"",oContent:{}}},watch:{msgs:function(t){localStorage.msgs_ai=o()(t)}},computed:{name:function(){return this.$store.state.name},avatarUrl:function(){return this.$store.state.avatarUrl}},beforeRouteEnter:function(t,s,n){localStorage.name?n():n("/")},mounted:function(){var t=this;this.oContent=document.getElementById("chattingContent"),setTimeout(function(){t.$refs.chattingContent.scrollTop=t.$refs.chattingContent.scrollHeight},0)},methods:{send:function(){var t=this;this.oContent.scrollTop=this.oContent.scrollHeight,""!==this.inputContent&&(this.msgs.push({date:this.moment().format("MM-DD HH:mm:ss"),loc:localStorage.addr,from:""+localStorage.name,content:this.inputContent,self:!0,avatarUrl:this.avatarUrl}),setTimeout(function(){t.$refs.chattingContent.scrollTop=t.$refs.chattingContent.scrollHeight},0),this.axios.get("https://microzz.com:3000/api/AI?search="+this.inputContent+"&userid="+(localStorage.name+localStorage.addr)+"&loc="+localStorage.addr).then(function(s){t.msgs.push({date:t.moment().format("MM-DD HH:mm:ss"),from:"智能机器人",content:s.data.result.text,self:!1,avatarUrl:"https://icdn.microzz.com/20170426_vue_chat/icon-ai.svg"})}).then(function(){t.$refs.chattingContent.scrollTop=t.$refs.chattingContent.scrollHeight}),this.inputContent="")}}}},178:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=n(129),o=n.n(e);s.default={name:"chatting",data:function(){return{msgs:localStorage.msgs_group&&JSON.parse(localStorage.msgs_group)||[],inputContent:"",oContent:{},oTextarea:{},emojis:["😂","🙏","😄","😏","😇","😅","😌","😘","😍","🤓","😜","😎","😊","😳","🙄","😱","😒","😔","😷","👿","🤗","😩","😤","😣","😰","😴","😬","😭","👻","👍","✌️","👉","👀","🐶","🐷","😹","⚡️","🔥","🌈","🍏","⚽️","❤️","🇨🇳"],isShowEmoji:!1,isRedAI:!1}},watch:{msgs:function(t){localStorage.msgs_group=o()(t)}},computed:{name:function(){return this.$store.state.name},avatarUrl:function(){return this.$store.state.avatarUrl}},beforeRouteEnter:function(t,s,n){localStorage.name?n():n("/")},mounted:function(){var t=this;setInterval(function(){return t.isRedAI=!t.isRedAI},2500),this.oContent=document.querySelector(".chatting-content"),this.oContent.scrollTop=this.oContent.scrollHeight,this.oTextarea=document.querySelector("textarea"),socket.emit("online",this.$store.state.name),socket.on("online",function(s){if(s){var n=document.createElement("div");n.className="online",n.innerText=s+"上线了",t.oContent.appendChild(n),t.oContent.scrollTop=t.oContent.scrollHeight}}),socket.on("receiveGroupMsg",function(s){t.msgs.push(s),setTimeout(function(){t.oContent.scrollTop=t.oContent.scrollHeight},0)}),this.oContent.scrollTop=this.oContent.scrollHeight},methods:{send:function(){var t=this;this.isShowEmoji=!1,""!==this.inputContent&&(socket.emit("sendGroupMsg",{date:this.moment().format("YYYY-MM-DD HH:mm:ss"),loc:localStorage.addr,from:""+localStorage.name,content:this.inputContent,avatarUrl:this.avatarUrl}),this.msgs.push({date:this.moment().format("YYYY-MM-DD HH:mm:ss"),loc:localStorage.addr,from:""+localStorage.name,content:this.inputContent,self:!0,avatarUrl:this.avatarUrl}),this.inputContent="",setTimeout(function(){return t.oContent.scrollTop=t.oContent.scrollHeight},0))},showEmoji:function(t){this.isShowEmoji=t},insertText:function(t){t+=" ";var s=this.$refs.textarea;if(document.selection){document.selection.createRange().text=t}else if("number"==typeof s.selectionStart&&"number"==typeof s.selectionEnd){var n=s.selectionStart,e=(s.selectionEnd,n),o=s.value;this.inputContent=o.substring(0,n)+t+o.substring(n,o.length),e+=t.length,s.selectionStart=s.selectionEnd=e}else s.value+=t;this.newLine()},newLine:function(){var t=this;setTimeout(function(){return t.oTextarea.scrollTop=t.oTextarea.scrollHeight},0)}}}},179:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=n(157),o=n.n(e);s.default={name:"login",components:{About:o.a},data:function(){return{name:""}},computed:{isShowAbout:function(){return this.$store.state.isShowAbout}},methods:{login:function(){""!==this.name&&(this.$store.commit("changeName",this.name),localStorage.name=this.name,this.$router.push("Chatting"))},showAbout:function(){this.$store.commit("showAbout",!0)}}}},180:function(t,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=n(4),o=n(131),a=n.n(o),i=n(133),r=n(0),c=n.n(r),l=n(134),u=n(130),m=n.n(u),h=n(132),v=n.n(h);c.a.locale("zh-cn"),e.a.prototype.moment=c.a,e.a.prototype.random=function(t){return Math.floor(t*Math.random())},e.a.use(l.a),e.a.use(v.a,m.a);var d=new l.a.Store({state:{name:"",avatarUrl:"https://icdn.microzz.com/20170426_vue_chat/icon-avatar"+e.a.prototype.random(21)+".svg",addr:"未知",isShowAbout:!1},mutations:{changeName:function(t,s){t.name=s},setAddr:function(t,s){t.addr=s},showAbout:function(t,s){t.isShowAbout=s}}});e.a.config.productionTip=!1,new e.a({el:"#app",router:i.a,store:d,template:"<App/>",components:{App:a.a}})}},[180]);
//# sourceMappingURL=app.730c439dbffc6d04e94b.js.map
